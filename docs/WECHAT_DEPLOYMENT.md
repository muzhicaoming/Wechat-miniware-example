# 微信小程序发布指南

本文档详细说明如何将小程序提交到微信平台进行审核和发布。

## 前置准备

### 1. 注册微信小程序账号

1. 访问 [微信公众平台](https://mp.weixin.qq.com/)
2. 点击右上角"立即注册"
3. 选择"小程序"
4. 填写账号信息（邮箱、密码等）
5. 完成邮箱验证
6. 填写主体信息（个人/企业）
7. 完成管理员信息登记
8. 完成注册

### 2. 获取AppID

1. 登录 [微信公众平台](https://mp.weixin.qq.com/)
2. 进入"开发" -> "开发管理" -> "开发设置"
3. 找到"AppID(小程序ID)"，复制保存

### 3. 配置小程序信息

在微信公众平台完成以下配置：

#### 基本信息
- **小程序名称**: 设置小程序名称（2-20个字符）
- **小程序简介**: 简要描述小程序功能
- **小程序头像**: 上传头像（建议512x512px）
- **小程序类目**: 选择合适的小程序类目

#### 服务类目（重要）
根据小程序功能选择对应的服务类目：
- 工具 -> 效率
- 工具 -> 计算器
- 工具 -> 备忘录
- 生活服务 -> 天气
- 等

## 开发配置

### 1. 配置AppID

在项目根目录的 `project.config.json` 中配置AppID：

```json
{
  "appid": "你的AppID",
  "projectname": "wechat-miniware-example"
}
```

或者在微信开发者工具中：
1. 打开项目
2. 点击右上角"详情"
3. 在"本地设置"中填写AppID

### 2. 使用测试号（开发阶段）

如果还没有正式AppID，可以使用测试号：
- 在微信开发者工具中选择"测试号"
- 测试号只能用于开发调试，不能发布

## 代码上传

### 1. 在微信开发者工具中上传

1. **打开项目**
   - 使用微信开发者工具打开项目目录
   - 确保项目可以正常编译运行

2. **检查代码**
   - 确保所有功能正常运行
   - 检查是否有错误或警告
   - 测试各个页面和功能

3. **上传代码**
   - 点击工具栏"上传"按钮
   - 填写版本号（如：1.0.0）
   - 填写项目备注（描述本次更新的内容）
   - 点击"上传"

4. **确认上传**
   - 上传成功后，代码会保存到微信服务器
   - 可以在微信公众平台查看上传的版本

### 2. 上传命令（可选）

也可以使用命令行上传（需要安装微信开发者工具CLI）：

```bash
# 安装CLI工具（如果未安装）
# macOS: 在微信开发者工具中启用CLI

# 上传代码
cli upload --project /path/to/project --version 1.0.0 --desc "初始版本"
```

## 提交审核

### 1. 在微信公众平台提交

1. **登录微信公众平台**
   - 访问 https://mp.weixin.qq.com/
   - 使用管理员账号登录

2. **进入版本管理**
   - 点击左侧菜单"版本管理"
   - 找到刚才上传的版本

3. **配置提交信息**
   - 点击"提交审核"
   - 填写以下信息：
     - **版本描述**: 描述本次版本的功能和更新
     - **服务类目**: 选择小程序所属类目
     - **标签**: 添加相关标签（可选）
     - **测试账号**: 如果需要，提供测试账号

4. **上传小程序页面截图**
   - 至少上传1张，最多5张
   - 建议包含主要功能页面
   - 图片要求：1242x2208px 或 750x1334px

5. **提交审核**
   - 确认信息无误后点击"提交审核"
   - 审核时间通常为1-7个工作日

### 2. 审核注意事项

#### 必须满足的条件
- ✅ 小程序功能完整，可以正常使用
- ✅ 没有明显的bug或错误
- ✅ 符合微信小程序规范
- ✅ 服务类目选择正确
- ✅ 不包含违规内容

#### 常见审核不通过原因
- ❌ 功能不完整或无法使用
- ❌ 存在明显的bug
- ❌ 服务类目选择错误
- ❌ 包含违规内容
- ❌ 页面截图不符合要求
- ❌ 缺少必要的功能说明

#### 提高审核通过率的建议
1. **功能完整性**
   - 确保所有功能都可以正常使用
   - 测试各种使用场景
   - 处理边界情况

2. **用户体验**
   - 界面美观，交互流畅
   - 错误提示清晰
   - 加载状态明确

3. **代码质量**
   - 代码结构清晰
   - 没有明显的错误
   - 注释完善

4. **文档说明**
   - 版本描述清晰
   - 功能说明完整
   - 如有特殊功能，提供使用说明

## 审核结果处理

### 1. 审核通过

如果审核通过：
1. 在"版本管理"中会显示"审核通过"
2. 点击"发布"按钮
3. 确认发布后，小程序正式上线
4. 用户可以在微信中搜索并使用

### 2. 审核不通过

如果审核不通过：
1. 查看审核反馈，了解不通过的原因
2. 根据反馈修改代码或配置
3. 重新上传代码
4. 再次提交审核

### 3. 审核中

审核期间：
- 可以查看审核进度
- 通常1-7个工作日完成
- 可以撤回审核（如果发现问题）

## 发布上线

### 1. 正式发布

审核通过后：
1. 在"版本管理"中找到审核通过的版本
2. 点击"发布"按钮
3. 确认发布信息
4. 点击"确认发布"

### 2. 发布后操作

发布成功后：
1. **小程序搜索**
   - 用户可以在微信中搜索小程序名称
   - 也可以通过小程序码访问

2. **数据统计**
   - 在"统计"中查看访问数据
   - 分析用户使用情况

3. **版本更新**
   - 有新功能时，重复上传和审核流程
   - 建议保持版本号递增

## 小程序码和分享

### 1. 获取小程序码

1. 在微信公众平台进入"设置" -> "基本设置"
2. 找到"小程序码"
3. 下载小程序码图片
4. 可以用于推广和分享

### 2. 分享小程序

- 用户可以在微信中分享小程序
- 分享时会显示小程序卡片
- 包含小程序名称、图标和描述

## 常见问题

### Q1: 审核需要多长时间？
A: 通常1-7个工作日，具体时间根据审核队列而定。

### Q2: 审核不通过怎么办？
A: 查看审核反馈，根据原因修改后重新提交。

### Q3: 可以使用测试号发布吗？
A: 不可以，测试号只能用于开发调试，正式发布需要注册小程序账号。

### Q4: 如何修改小程序信息？
A: 在微信公众平台的"设置" -> "基本设置"中修改。

### Q5: 发布后可以撤回吗？
A: 发布后不能撤回，但可以发布新版本覆盖。

### Q6: 如何查看小程序数据？
A: 在微信公众平台的"统计"中查看访问数据。

## 检查清单

在提交审核前，请确认：

### 功能检查
- [ ] 所有功能正常运行
- [ ] 没有明显的bug
- [ ] 错误处理完善
- [ ] 加载状态明确

### 内容检查
- [ ] 没有违规内容
- [ ] 文字描述准确
- [ ] 图片清晰合规

### 配置检查
- [ ] AppID配置正确
- [ ] 服务类目选择正确
- [ ] 小程序信息完整
- [ ] 页面截图已上传

### 代码检查
- [ ] 代码可以正常编译
- [ ] 没有控制台错误
- [ ] 性能良好
- [ ] 符合小程序规范

## 后续维护

### 版本更新流程
1. 开发新功能
2. 测试验证
3. 上传新版本代码
4. 提交审核
5. 审核通过后发布

### 监控和优化
- 定期查看数据统计
- 收集用户反馈
- 优化用户体验
- 修复发现的bug

---

## 快速参考

### 关键链接
- [微信公众平台](https://mp.weixin.qq.com/)
- [微信开发者工具下载](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- [小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [小程序审核规范](https://developers.weixin.qq.com/miniprogram/product/)

### 重要步骤
1. 注册小程序账号 → 获取AppID
2. 配置项目AppID
3. 开发测试功能
4. 上传代码
5. 提交审核
6. 审核通过后发布

---

**提示**: 建议在正式提交前，充分测试所有功能，确保用户体验良好。
